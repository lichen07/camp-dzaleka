<!DOCTYPE html>
<html>
<head>
  <title>Camp de Dzaleka</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta charset="utf-8">

  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.2/dist/leaflet.css" integrity="sha256-sA+zWATbFveLLNqWO2gtiw3HL/lh1giY/Inf1BJ0z14=" crossorigin="" />
  <script src="https://unpkg.com/leaflet@1.9.2/dist/leaflet.js" integrity="sha256-o9N1jGDZrf5tS+Ft4gbIK7mYMipq9lqpVJ91xHSyKhg=" crossorigin=""></script>

  <style>
    body { margin:0; padding:0; }
    #map { position: absolute; top:0; bottom:0; right:0; left:0; }
    .label-tooltip {
      background-color: transparent;
      border: none;
      font-family: "Arial", Times, serif;
      color: black;
      font-weight: bold;
      font-size: 11px;
      padding: 0;
      text-shadow: none;
      box-shadow: none;
    }
  </style>
</head>
<body>

  <div id="map"></div>

  <script>
    var map = L.map('map', {
      center: [-13.663053, 33.870444], 
      zoom: 18,
      scrollWheelZoom: false
    });

    var openstreetmap_HOT = L.tileLayer('https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png', {
      maxZoom: 19,
      attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, Tiles style by <a href="https://www.hotosm.org/" target="_blank">Humanitarian OpenStreetMap Team</a>, &copy;<a href="https://www.flaticon.com/">Flaticon</a>',
    }).addTo(map);

    var voyagerlayer = L.tileLayer(
      'https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png', {
        attribution: '&copy; <a href="https://osm.org/copyright">OpenStreetMap</a> contributors, &copy;<a href="https://carto.com/attribution">CARTO</a>, &copy;<a href="https://www.flaticon.com/">Flaticon</a>'
    });

    var googlesatellitelayer = L.tileLayer(
      'https://{s}.googleapis.com/maps/vt?lyrs=s&x={x}&y={y}&z={z}&scale=2', {
        attribution: '&copy; <a href="https://www.google.com/maps">Google Maps</a>, &copy;<a href="https://www.flaticon.com/">Flaticon</a>',
        subdomains: ['mt0', 'mt1', 'mt2', 'mt3']
    });

    var basemaps = {
      "OpenStreetMap HOT": openstreetmap_HOT,
      "Voyager": voyagerlayer,
      "Google Satellite": googlesatellitelayer,
    };  

    var layerControl = L.control.layers(basemaps).addTo(map);

    function getIcon(feature) {
      var classe = feature.properties.Classe;
      var iconUrl = '';

      if (classe === "Établissement d'enseignement") {
        iconUrl = 'https://raw.githubusercontent.com/lichen07/camp-dzaleka/refs/heads/main/ecoles.png';
      } else if (classe === "Centre de distribution alimentaire") {
        iconUrl = 'https://raw.githubusercontent.com/lichen07/camp-dzaleka/refs/heads/main/restaurant.png';
      } else if (classe === "OBNL") {
        iconUrl = 'https://raw.githubusercontent.com/lichen07/camp-dzaleka/refs/heads/main/humanitarian-aid.png';
      } else if (classe == "Établissement de santé") {
        iconUrl = 'https://raw.githubusercontent.com/lichen07/camp-dzaleka/refs/heads/main/etablissements_sante.png';
      } else if (classe == "LCC Dzaleka") {
        iconUrl = 'https://raw.githubusercontent.com/lichen07/camp-dzaleka/refs/heads/main/localisation.png';
      } else if (classe == "Station-service") {
        iconUrl = 'https://raw.githubusercontent.com/lichen07/camp-dzaleka/refs/heads/main/gas-pump.png';
      } else if (classe == "Station de police") {
        iconUrl = 'https://raw.githubusercontent.com/lichen07/camp-dzaleka/refs/heads/main/police.png';
      }

      return L.icon({
        iconUrl: iconUrl,
        iconSize: [30, 30], 
        iconAnchor: [16, 32],
        popupAnchor: [0, -32]
      });
    }

    function onEachFeature(feature, layer) {
      if (feature.properties && feature.properties.Nom) {
        layer.bindPopup(feature.properties.Nom);
      }
    }

<!DOCTYPE html>
<html>
<head>
  <title>Camp de Dzaleka</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta charset="utf-8">

  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.2/dist/leaflet.css" integrity="sha256-sA+zWATbFveLLNqWO2gtiw3HL/lh1giY/Inf1BJ0z14=" crossorigin="" />
  <script src="https://unpkg.com/leaflet@1.9.2/dist/leaflet.js" integrity="sha256-o9N1jGDZrf5tS+Ft4gbIK7mYMipq9lqpVJ91xHSyKhg=" crossorigin=""></script>

  <style>
    body { margin:0; padding:0; }
    #map { position: absolute; top:0; bottom:0; right:0; left:0; }
    .label-tooltip {
      background-color: transparent;
      border: none;
      font-family: "Arial", Times, serif;
      color: black;
      font-weight: bold;
      font-size: 11px;
      padding: 0;
      text-shadow: none;
      box-shadow: none;
    }
  </style>
</head>
<body>

  <div id="map"></div>

  <script>
    var map = L.map('map', {
      center: [-13.663053, 33.870444], 
      zoom: 18,
      scrollWheelZoom: false
    });

    var openstreetmap_HOT = L.tileLayer('https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png', {
      maxZoom: 19,
      attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, Tiles style by <a href="https://www.hotosm.org/" target="_blank">Humanitarian OpenStreetMap Team</a>, &copy;<a href="https://www.flaticon.com/">Flaticon</a>',
    }).addTo(map);

    var voyagerlayer = L.tileLayer(
      'https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png', {
        attribution: '&copy; <a href="https://osm.org/copyright">OpenStreetMap</a> contributors, &copy;<a href="https://carto.com/attribution">CARTO</a>, &copy;<a href="https://www.flaticon.com/">Flaticon</a>'
    });

    var googlesatellitelayer = L.tileLayer(
      'https://{s}.googleapis.com/maps/vt?lyrs=s&x={x}&y={y}&z={z}&scale=2', {
        attribution: '&copy; <a href="https://www.google.com/maps">Google Maps</a>, &copy;<a href="https://www.flaticon.com/">Flaticon</a>',
        subdomains: ['mt0', 'mt1', 'mt2', 'mt3']
    });

    var basemaps = {
      "OpenStreetMap HOT": openstreetmap_HOT,
      "Voyager": voyagerlayer,
      "Google Satellite": googlesatellitelayer,
    };  

    var layerControl = L.control.layers(basemaps).addTo(map);

    function getIcon(feature) {
      var classe = feature.properties.Classe;
      var iconUrl = '';

      if (classe === "Établissement d'enseignement") {
        iconUrl = 'https://raw.githubusercontent.com/lichen07/camp-dzaleka/refs/heads/main/ecoles.png';
      } else if (classe === "Centre de distribution alimentaire") {
        iconUrl = 'https://raw.githubusercontent.com/lichen07/camp-dzaleka/refs/heads/main/restaurant.png';
      } else if (classe === "OBNL") {
        iconUrl = 'https://raw.githubusercontent.com/lichen07/camp-dzaleka/refs/heads/main/humanitarian-aid.png';
      } else if (classe == "Établissement de santé") {
        iconUrl = 'https://raw.githubusercontent.com/lichen07/camp-dzaleka/refs/heads/main/etablissements_sante.png';
      } else if (classe == "LCC Dzaleka") {
        iconUrl = 'https://raw.githubusercontent.com/lichen07/camp-dzaleka/refs/heads/main/localisation.png';
      } else if (classe == "Station-service") {
        iconUrl = 'https://raw.githubusercontent.com/lichen07/camp-dzaleka/refs/heads/main/gas-pump.png';
      } else if (classe == "Station de police") {
        iconUrl = 'https://raw.githubusercontent.com/lichen07/camp-dzaleka/refs/heads/main/police.png';
      }

      return L.icon({
        iconUrl: iconUrl,
        iconSize: [30, 30], 
        iconAnchor: [16, 32],
        popupAnchor: [0, -32]
      });
    }

    function onEachFeature(feature, layer) {
      if (feature.properties && feature.properties.Nom) {
        layer.bindPopup(feature.properties.Nom);
      }
    }

    var geojsonData = {
      "type": "FeatureCollection",
      "features": [
        {
          "type": "Feature",
          "properties": {
            "FID": 0,
            "Nom": "Dzaleka Refugee Camp, Kawale / 01",
            "Type": "Restaurant",
            "Adresse": "Dzaleka, M16, Malawi",
            "PlusCode": "8VM9+PJ Mbalame, Malawi",
            "Source": "Google Maps",
            "Classe": "Centre de distribution alimentaire"
          },
          "geometry": {
            "type": "Point",
            "coordinates": [33.86904900234, -13.665704346091083]
          }
        },
        {
          "type": "Feature",
          "properties": {
            "FID": 29,
            "Nom": "Professional courses",
            "Type": "Établissement d'enseignement",
            "Adresse": "",
            "PlusCode": "",
            "Source": "OpenStreetMap",
            "Classe": "Établissement d'enseignement"
          },
          "geometry": {
            "type": "Point",
            "coordinates": [33.867501, -13.661177]
          }
        }
      ]
    };

    L.geoJSON(geojsonData, {
      pointToLayer: function (feature, latlng) {
        return L.marker(latlng, { icon: getIcon(feature) });
      },
      onEachFeature: onEachFeature
    }).addTo(map);

  </script>

</body>
</html>


    L.geoJSON(geojsonData, {
      pointToLayer: function (feature, latlng) {
        return L.marker(latlng, { icon: getIcon(feature) });
      },
      onEachFeature: onEachFeature
    }).addTo(map);

  </script>

</body>
</html>
